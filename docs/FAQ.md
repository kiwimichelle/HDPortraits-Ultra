# 常见问题

## 安装相关

### Q: 如何安装 HD Portraits Ultra？
A: 
1. 从 GitHub 下载最新版本
2. 解压到 `Stardew Valley/Mods/` 目录
3. 启动游戏

### Q: 需要什么前置条件？
A: 
- Stardew Valley 1.6+
- SMAPI 3.0+

### Q: 可以在 Mac/Linux 上使用吗？
A: 是的，完全支持。

## 使用相关

### Q: 菜单快捷键怎么改？
A: 编辑 `config.json` 中的 `Hotkey` 字段。

### Q: 按 P 键没反应怎么办？
A: 
1. 检查快捷键是否与其他模组冲突
2. 查看 SMAPI 控制台是否有错误
3. 重启游戏

### Q: 切换头像后游戏卡吗？
A: 不会。切换是实时的，非常快速。

### Q: 可以在对话中途切换头像吗？
A: 完全可以。切换立即生效。

## 头像包相关

### Q: 头像包放在哪里？
A: 放在 `Stardew Valley/Mods/` 目录下，和其他模组一样。

### Q: 可以同时启用多个头像包吗？
A: 是的。可以为同一个 NPC 装多个包，游戏内切换。

### Q: 头像包会互相冲突吗？
A: 不会。每个包都是独立的，完全解耦。

### Q: 如何删除某个头像包？
A: 从 `Mods/` 目录删除该文件夹即可。

### Q: 删除头像包会影响存档吗？
A: 不会。游戏会自动使用默认头像。

## 制作相关

### Q: 我可以制作自己的头像包吗？
A: 完全可以！完全不需要编程，只需 PNG 和 JSON。

### Q: 头像的尺寸有限制吗？
A: 建议至少 192x192 (4x)，最大 384x384 (8x)。

### Q: 可以为同一个 NPC 做多个表情吗？
A: 可以。通过条件系统，可以设置任意多的表情和变体。

### Q: 如何实现季节性头像？
A: 使用条件系统中的 `season` 条件。

### Q: 如何为动画制作？
A: 准备多个帧图片，在 `portraits.json` 中配置帧序列。

## 兼容性相关

### Q: 与其他 Portrait Mod 兼容吗？
A: 完全兼容。可以同时使用多个肖像模组。

### Q: 与 Content Patcher 兼容吗？
A: 是的，完全支持 CP NPC。

### Q: 与 Generic Mod Config Menu (GMCM) 兼容吗？
A: 完全兼容。

## 性能相关

### Q: 这个模组会影响游戏性能吗？
A: 几乎没有。只在切换时有极短的加载时间。

### Q: 加载很多头像包会怎样？
A: 模组有智能缓存，不会显著影响性能。

### Q: 可以关闭预加载来加速启动吗？
A: 可以。在 `config.json` 设置 `PreloadPortraits` 为 `false`。

## 故障排除

### Q: 启动时出现错误？
A: 
1. 检查 SMAPI 控制台的错误信息
2. 确保没有损坏的头像包
3. 尝试删除 `config.json` 让模组重新生成

### Q: 头像显示不正常？
A: 
1. 检查 PNG 文件是否有效
2. 确认文件路径正确
3. 尝试使用不同分辨率

### Q: 菜单 UI 显示不全？
A: 
1. 检查游戏分辨率
2. 调整菜单配置
3. 更新 SMAPI

### Q: 某个头像包不工作？
A: 
1. 检查 `manifest.json` 格式
2. 验证 `ContentPackFor` 设置
3. 查看文件名大小写是否正确

## 问题还是没解决？

1. 查看 [GitHub Issues](https://github.com/kiwimichelle/HDPortraits-Ultra/issues)
2. 搜索相关讨论
3. 提交新 Issue（提供详细信息）

---

**最后更新**: 2026-02-19
